(()=>{"use strict";const e=(e,t)=>{const a=document.createElement(e);return a.classList.add(t),a},t=(t,a,o)=>{for(let r=0;r<o.length;r++){const l=e("div",a[r]);l.textContent=o[r],l.classList.add("keyboard__key"),t.append(l)}},a=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","▲","Shift","Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"],o=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],r=["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del","CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter","Shift","Z","X","C","V","B","N","M","<",">","?","▲","Shift","Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"],l=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","▲","Shift","Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"],n=["Ё","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Я","Ч","С","М","И","Т","Ь","Б","Ю"],c=["Ё","!",'"',"№",";","%",":","?","*","(",")","_","+","Backspace","Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","/","Del","CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter","Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",",","▲","Shift","Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"],s=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight","ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"],i=["Backspace","Tab","Delete","Del","CapsLock","Enter","ShiftLeft","ShiftRight","Shift","ControlLeft","Ctrl","MetaLeft","Win","AltLeft","AltRight","Alt","ControlRight"];let d=!1,y=!1;const g=document.querySelector("body");g.classList.add("body"),localStorage.getItem("language")||localStorage.setItem("language","En");const k=new class{constructor(e){this.body=e}render(){const o=e("header","header");this.body.append(o);const r=e("h1","title");r.textContent="Virtual keyboard",o.append(r);const n=e("main","main");this.body.append(n);const c=e("textarea","textarea");c.setAttribute("rows",5),c.setAttribute("cols",50),n.append(c);const i=e("div","keyboard");n.append(i);const d=e("p","text");d.textContent="The keyboard was created in the Windows operating system.",n.append(d);const y=e("p","text");y.textContent="To switch the language combination: left Ctrl + left Alt.",n.append(y),t(i,s,"En"===localStorage.getItem("language")?a:l)}}(g);k.render(),(()=>{const e=document.querySelector(".keyboard"),g=document.querySelector(".textarea"),k=new Set;document.addEventListener("keydown",(u=>{try{if(k.add(u.code),k.has("AltLeft")&&k.has("ControlLeft")&&("En"===localStorage.getItem("language")?(localStorage.setItem("language","Ru"),e.innerHTML="",t(e,s,l),e.querySelector(".ControlLeft").classList.add("keyboard__key_active"),e.querySelector(".AltLeft").classList.add("keyboard__key_active")):"Ru"===localStorage.getItem("language")&&(localStorage.setItem("language","En"),e.innerHTML="",t(e,s,a),e.querySelector(".ControlLeft").classList.add("keyboard__key_active"),e.querySelector(".AltLeft").classList.add("keyboard__key_active"))),"Tab"!==u.code&&"Alt"!==u.key||u.preventDefault(),u.code&&("CapsLock"===u.code&&d?(d=!1,e.querySelectorAll(".keyboard__key").forEach((e=>{("En"===localStorage.getItem("language")?o:n).includes(e.textContent.toUpperCase())&&(e.textContent=e.textContent.toLowerCase())}))):"CapsLock"===u.code&&(d=!0,e.querySelectorAll(".keyboard__key").forEach((e=>{("En"===localStorage.getItem("language")?o:n).includes(e.textContent.toUpperCase())&&(e.textContent=e.textContent.toUpperCase())})))),"ShiftLeft"===u.code||"ShiftRight"===u.code){const a=Array.from(e.querySelectorAll(".keyboard__key")).map(((e,t)=>{if(e.classList.contains("keyboard__key_active")&&"Shift"!==e.textContent)return t})).filter((e=>e));y=!0,e.innerHTML="",t(e,s,"En"===localStorage.getItem("language")?r:c);const o=e.querySelectorAll(".keyboard__key");for(let e=0;e<o.length;e++)a.includes(e)&&o[e].classList.add("keyboard__key_active")}(t=>{!i.includes(t.code)&&document.activeElement!==g&&d?g.value+=document.querySelector(`.${t.code}`).textContent.toUpperCase():i.includes(t.code)||document.activeElement===g?"Backspace"===t.code&&document.activeElement!==g?g.value=g.value.slice(0,g.value.length-1):"Tab"===t.code?g.value+="    ":"Enter"===t.code&&document.activeElement!==g&&(g.value+="\n"):g.value+=e.querySelector(`.${t.code}`).textContent})(u),e.querySelector(`.${u.code}`).classList.add("keyboard__key_active")}catch(e){return}})),document.addEventListener("keyup",(o=>{try{if(k.delete(o.code),d&&"CapsLock"!==o.code?e.querySelector(`.${o.code}`).classList.remove("keyboard__key_active"):"CapsLock"!==o.code||d?"CapsLock"!==o.code&&e.querySelector(`.${o.code}`).classList.remove("keyboard__key_active"):e.querySelector(`.${o.code}`).classList.remove("keyboard__key_active"),"ShiftLeft"===o.code||"ShiftRight"===o.code){const o=Array.from(e.querySelectorAll(".keyboard__key")).map(((e,t)=>{if(e.classList.contains("keyboard__key_active")&&"Shift"!==e.textContent)return t})).filter((e=>e));y=!1,e.innerHTML="",t(e,s,"En"===localStorage.getItem("language")?a:l);const r=e.querySelectorAll(".keyboard__key");for(let e=0;e<r.length;e++)o.includes(e)&&r[e].classList.add("keyboard__key_active")}}catch(e){return}})),e.addEventListener("click",(e=>{if(e.target.classList.contains("keyboard__key"))if(i.includes(e.target.textContent))if("Backspace"===e.target.textContent)g.value=g.value.slice(0,g.value.length-1);else if("Tab"===e.target.textContent)g.value+="    ";else if("Enter"===e.target.textContent)g.value+="\n";else if("Del"===e.target.textContent){const e=g.selectionStart,t=g.value.split("");t.splice(e,1),g.value=t.join(""),g.selectionStart=e,g.selectionEnd=g.selectionStart}else"CapsLock"===e.target.textContent&&(d?(d=!1,e.target.classList.remove("keyboard__key_active")):(d=!0,e.target.classList.add("keyboard__key_active")));else g.value+=e.target.textContent})),e.addEventListener("mousedown",(a=>{if(a.target.classList.contains("keyboard__key")&&(a.target.classList.contains("ShiftLeft")||a.target.classList.contains("ShiftRight"))){let o;o=a.target.classList.contains("ShiftLeft")?"ShiftLeft":"ShiftRight";const l=Array.from(e.querySelectorAll(".keyboard__key")).map(((e,t)=>{if(e.classList.contains("keyboard__key_active")&&"Shift"!==e.textContent)return t})).filter((e=>e));y=!0,e.innerHTML="",t(e,s,"En"===localStorage.getItem("language")?r:c),e.querySelector(`.${o}`).classList.add("keyboard__key_active");const n=e.querySelectorAll(".keyboard__key");for(let e=0;e<n.length;e++)l.includes(e)&&n[e].classList.add("keyboard__key_active")}})),e.addEventListener("mouseup",(o=>{if(o.target.classList.contains("keyboard__key")&&(o.target.classList.contains("ShiftLeft")||o.target.classList.contains("ShiftRight"))){const r=Array.from(e.querySelectorAll(".keyboard__key")).map(((e,t)=>{if(e.classList.contains("keyboard__key_active")&&"Shift"!==e.textContent)return t})).filter((e=>e));y=!1,o.target.classList.remove("keyboard__key_active"),e.innerHTML="",t(e,s,"En"===localStorage.getItem("language")?a:l);const n=e.querySelectorAll(".keyboard__key");for(let e=0;e<n.length;e++)r.includes(e)&&n[e].classList.add("keyboard__key_active")}}))})()})();
//# sourceMappingURL=index.js.map